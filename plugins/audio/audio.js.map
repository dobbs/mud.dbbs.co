{
  "version": 3,
  "sources": [
    "audio.coffee"
  ],
  "names": [],
  "mappings": ";;AAKG,CAAA,YAAA;AAAA;;;;;;AAAA,MAAA,IAAA,EAAA,KAAA,EAAA,IAAA,EAAA,KAAA;;AAEH,EAAA,KAAA,GAAQ,iBAAA;AAAA,QAAC,IAAD,uEAAA,EAAA;AACR,QAAA,SAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,MAAA;AAAE,IAAA,MAAA,GAAS,EAAT;AACA,IAAA,SAAA,GAAY,IAAZ;AACA,IAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA;;AAAA,SAAA,CAAA,GAAA,CAAA,EAAA,GAAA,GAAA,GAAA,CAAA,MAAA,EAAA,CAAA,GAAA,GAAA,EAAA,CAAA,EAAA,EAAA;;;AACE,UAAA,SAAA,EAAA;AACE,QAAA,MAAM,CAAN,GAAA,GAAa,IAAb;AACA,QAAA,SAAA,GAFF,KAEE;AAFF,OAAA,MAAA;AAIE,QAAA,MAAM,CAAC,OAAP,KAAA,MAAM,CAAC,OAAP,GAAmB,GAAnB;AACA,QAAA,MAAM,CAAN,OAAA,IAAkB,IAAA,GALpB,GAKE;;AANJ;;WAOA,M;AAVM,GAAR;;AAYA,EAAA,KAAA,GAAQ,qBAAA;AAAA,QAAA,GAAA,QAAA,GAAA;AACN,wIAAA,GAAA,2EAAA,GAAA;AADM,GAAR;;AAUA,EAAA,IAAA,GAAO,cAAA,KAAA,EAAA,IAAA,EAAA;AACP,QAAA,MAAA;AAAE,IAAA,MAAA,GAAS,KAAA,CAAM,IAAI,CAAV,IAAA,CAAT;WACA,KAAK,CAAL,MAAA,WACI,KAAA,CADS,MACT,CADJ,wBAGO,IAAI,CAAJ,YAAA,CAAkB,MAAM,CAAN,OAAA,IAHzB,cAGO,CAHP,U;AAFK,GAAP;;AAQA,EAAA,IAAA,GAAO,cAAA,KAAA,EAAA,IAAA,EAAA;WACL,KAAK,CAAL,QAAA,CAAe,YAAA;aAAG,IAAI,CAAJ,UAAA,CAAA,KAAA,EAAA,IAAA,C;AAAlB,KAAA,C;AADK,GAAP;;AAGA,MAAuC,OAAA,MAAA,KAAA,WAAA,IAAA,MAAA,KAAvC,IAAA,EAAA;AAAA,IAAA,MAAM,CAAC,OAAP,CAAA,KAAA,GAAuB;AAAC,MAAA,IAAD,EAAC,IAAD;AAAO,MAAA,IAA9B,EAA8B;AAAP,KAAvB;;;AACA,MAAmC,OAAA,MAAA,KAAA,WAAA,IAAA,MAAA,KAAnC,IAAA,EAAA;AAAA,IAAA,MAAM,CAAN,OAAA,GAAiB;AAAC,MAAA,KAAD,EAAC,KAAD;AAAQ,MAAA,KAAzB,EAAyB;AAAR,KAAjB;;CApCG,E,IAAA",
  "sourcesContent": [
    "###\n * Federated Wiki : Audio Plugin\n *\n * Licensed under the MIT license.\n * https://github.com/fedwiki/wiki-plugin-audio/blob/master/LICENSE.txt\n###\n\nparse = (text='') ->\n  result = {}\n  firstLine = true\n  for line in text.split /\\r\\n?|\\n/\n    if firstLine\n      result.key = line\n      firstLine = false\n    else\n      result.caption ||= ' '\n      result.caption += line + ' '\n  result\n\nembed = ({key}) ->\n  \"\"\"\n    <iframe\n      onload=\"this.height=this.contentWindow.document.body.clientHeight + 5 + 'px'\"\n      srcdoc='<audio src=\"#{key}\" preload=\"none\" controls style=\"width: 100%;\"><a href=\"#{key}\">download audio</a></audio>'\n      width=\"100%\" frameborder=0 seamless scrolling=\"no\">\n    </iframe>\n  \"\"\"\n\n\nemit = ($item, item) ->\n  result = parse item.text\n  $item.append \"\"\"\n    #{embed result}\n    <br>\n    <i>#{wiki.resolveLinks(result.caption || \"(no caption)\")}</i>\n  \"\"\"\n\nbind = ($item, item) ->\n  $item.dblclick -> wiki.textEditor $item, item\n\nwindow.plugins.audio = {emit, bind} if window?\nmodule.exports = {parse, embed} if module?\n"
  ],
  "sourceRoot": ""
}